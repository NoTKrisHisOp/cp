<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Campus Hire Dashboard</title>
<style>
  :root {
    --bg: #0b1020;
    --bg-alt: #0e1426;
    --surface: rgba(255,255,255,0.06);
    --surface-strong: rgba(255,255,255,0.10);
    --border: rgba(255,255,255,0.12);
    --text: #e5e7eb;
    --muted: #9aa4b2;
    --accent: #7c3aed;
    --accent-2: #2563eb;
    --success: #22c55e;
    --radius: 14px;
    --radius-sm: 10px;
    --shadow: 0 10px 30px rgba(0,0,0,0.35);
    --shadow-soft: 0 6px 18px rgba(0,0,0,0.25);
    --glass: blur(10px) saturate(140%);
  }
  /* Reset & Base */
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Segoe UI", sans-serif;
    background:
      radial-gradient(1200px 600px at 80% -10%, rgba(124,58,237,0.18), transparent 60%),
      radial-gradient(1000px 500px at -10% 10%, rgba(37,99,235,0.18), transparent 55%),
      radial-gradient(600px 400px at 50% 120%, rgba(99,102,241,0.10), transparent 60%),
      var(--bg);
    color: var(--text);
    display:flex;
    min-height:100vh;
    flex-direction: column;
    transition: background 0.5s ease, color 0.5s ease;
  }
  a { text-decoration:none; color:inherit; }
  @keyframes gradientMove {
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
  }

  /* Header */
  header {
    position:fixed; top:0; left:0; right:0; height:70px;
    backdrop-filter: var(--glass);
    background: linear-gradient(180deg, rgba(17,24,39,0.65), rgba(17,24,39,0.35));
    box-shadow: var(--shadow);
    display:flex; justify-content:space-between; align-items:center;
    padding:0 20px; z-index:1000;
    border-bottom:1px solid var(--border);
  }
  .logo { 
    display:flex; align-items:center; 
    font-size:1.3rem; 
    font-weight:700; 
    color: var(--text);
    letter-spacing: 0.2px;
  }
  .header-actions { display:flex; align-items:center; gap:15px; }

  /* Search Component */
  .header-search-wrapper {
    flex-grow: 1;
    display: flex;
    justify-content: center;
    padding: 0 20px;
  }

  .search-component {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 400px;
    background: rgba(255,255,255,0.06);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 10px 14px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }

  .search-component:focus-within {
    border-color: rgba(124,58,237,0.6);
    box-shadow: 0 0 0 6px rgba(124,58,237,0.12);
  }

  .search-icon {
    color: var(--muted);
    margin-right: 10px;
    font-size: 1.1rem;
  }

  .search-input {
    border: none;
    outline: none;
    flex-grow: 1;
    font-size: 1rem;
    background: transparent;
    color: var(--text);
  }

  .search-input::placeholder {
    color: #999;
  }

  body.dark .search-component {
    background: rgba(45,55,72,0.8);
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
  }

  body.dark .search-component:focus-within {
    background: #1e293b;
    box-shadow: 0 4px 15px rgba(14,165,233,0.3);
  }

  body.dark .search-icon {
    color: #bbb;
  }

  body.dark .search-input {
    color: #eee;
  }

  body.dark .search-input::placeholder {
    color: #888;
  }

  /* Premium Buttons */
  .login-btn {
    padding: 10px 16px;
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
    color: var(--text);
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
  }

/* profile button removed; account actions live in settings modal */

/* Optional subtle shine effect */
.login-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.2), transparent);
  transform: translateX(-100%);
  transition: transform 0.5s ease;
}

.login-btn:hover::before {
  transform: translateX(100%);
}

  .login-btn:hover {
    transform: translateY(-1px);
    border-color: rgba(124,58,237,0.5);
    background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
  }

/* Settings Button */
.settings-btn {
  padding: 10px 14px;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  color: var(--text);
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.05rem;
}

.settings-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  filter: brightness(1.05);
}

body.dark .settings-btn {
  background: rgba(30,41,59,0.7);
  color: #eee;
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
}

body.dark .settings-btn:hover {
  background: rgba(30,41,59,0.9);
  box-shadow: 0 8px 25px rgba(14,165,233,0.5);
}

  /* The mode-toggle class is now only used within the settings modal */
  .mode-toggle {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
  }

  .mode-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .toggle-label {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
  }

  .toggle-label:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }

  input:checked + .toggle-label {
    background-color: #2196F3;
  }

  input:focus + .toggle-label {
    box-shadow: 0 0 1px #2196F3;
  }

  input:checked + .toggle-label:before {
    transform: translateX(26px);
  }

  .toggle-label:after {
    content: 'Off';
    color: #fff;
    display: block;
    position: absolute;
    transform: translate(-50%, -50%);
    top: 50%;
    left: 70%; /* Adjusted for better visibility */
    font-size: 10px;
    font-family: "Segoe UI", sans-serif;
    font-weight: bold;
    width: 100%;
    text-align: center;
  }

  input:checked + .toggle-label:after {
    content: 'On';
    left: 30%; /* Adjusted for better visibility */
    color: #fff;
  }

  /* Sidebar */
  .sidebar {
    position:fixed; top:70px; left:0;
    width:220px; height:calc(100% - 70px);
    backdrop-filter: var(--glass);
    background: linear-gradient(180deg, rgba(17,24,39,0.55), rgba(17,24,39,0.35));
    border-right:1px solid var(--border);
    padding:20px;
    overflow-y:auto;
    transition:transform 0.4s ease;
    box-shadow: var(--shadow-soft);
  }
  .sidebar ul { list-style:none; }
  .sidebar li {
    padding:12px 14px;
    margin:8px 0;
    border-radius: var(--radius-sm);
    cursor:pointer;
    font-weight:500;
    color: var(--text);
    transition: background 0.2s ease, transform 0.2s ease;
    position:relative;
    overflow: hidden;
  }
  .sidebar li:hover {
    background: rgba(255,255,255,0.06);
    transform:translateX(4px);
  }
  .sidebar li::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, transparent, rgba(255,255,255,0.2), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s ease;
    z-index: 1;
  }
  .sidebar li:hover::before {
    transform: translateX(100%);
  }

  /* Main */
  main {
    margin-top:70px;
    margin-left:220px;
    padding:40px;
    flex:1;
    max-width: 1200px; /* Limit content width on large screens */
    margin-right: auto;
  }
  h2 { 
    margin:20px 0; 
    font-weight:700;
    color: var(--text);
    letter-spacing: 0.2px;
  }

  /* Prepare Card */
  .prepare-card {
    background: rgba(255,255,255,0.06);
    backdrop-filter: var(--glass);
    padding:22px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
    flex: 1; /* Allow it to grow */
    min-width: 280px; /* Ensure it doesn't get too small */
    max-width: 400px; /* Limit its max width */
    transition: all 0.4s ease;
  }
  .prepare-card:hover {
    transform:translateY(-4px);
    box-shadow: var(--shadow);
  }

  /* Main Top Section for Cards */
  .main-top-section {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    gap: 25px; /* Consistent with .cards gap */
    margin-top: 20px; /* Adjust margin as needed */
  }

  /* Upcoming Events Card */
  .upcoming-events-card {
    background: rgba(255,255,255,0.06);
    backdrop-filter: var(--glass);
    padding:22px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    cursor:pointer;
    position: relative;
    overflow: hidden;
    flex: 1; /* Allow it to grow */
    min-width: 280px; /* Ensure it doesn't get too small */
    max-width: 400px; /* Limit its max width */
  }
  .upcoming-events-card:hover {
    transform:translateY(-4px);
    box-shadow: var(--shadow);
  }
  .upcoming-events-card h3 {
    font-size: 1.15rem;
    margin-bottom: 10px;
    color: var(--text);
  }
  .upcoming-events-card p {
    font-size: 1rem;
    color: #555;
    margin-bottom: 15px;
    line-height: 1.5;
  }
  .upcoming-events-card .view-btn {
    padding:10px 14px;
    background: linear-gradient(180deg, rgba(124,58,237,0.25), rgba(124,58,237,0.15));
    color: var(--text); font-weight:600;
    border: 1px solid rgba(124,58,237,0.35); border-radius: var(--radius-sm);
    cursor:pointer;
    transition: all 0.2s ease;
  }
  .upcoming-events-card .view-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 0 0 6px rgba(124,58,237,0.12);
  }

  .progress-container {
    background: rgba(255,255,255,0.06);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    height:22px;
    overflow:hidden;
    margin:18px 0;
  }
  .progress-bar {
    height:100%; width:0%;
    background: linear-gradient(90deg, rgba(124,58,237,0.9), rgba(37,99,235,0.9));
    border-radius: var(--radius-sm);
    transition: width 0.45s ease;
  }
  .start-btn {
    padding:12px 16px;
    background: linear-gradient(180deg, rgba(124,58,237,0.25), rgba(124,58,237,0.15));
    color: var(--text); font-weight:600;
    border: 1px solid rgba(124,58,237,0.35);
    border-radius: var(--radius-sm);
    cursor:pointer;
    transition: all 0.25s ease;
    position:relative; overflow:hidden;
  }
  .start-btn:hover { 
    transform:translateY(-1px);
    box-shadow: 0 0 0 6px rgba(124,58,237,0.12);
    background: linear-gradient(180deg, rgba(124,58,237,0.32), rgba(124,58,237,0.18));
  }
  .start-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, transparent, rgba(255,255,255,0.3), transparent);
    transform: translateX(-100%);
    transition: transform 0.6s ease;
  }
  .start-btn:hover::before {
    transform: translateX(100%);
  }

  /* Cards Section */
  .cards {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:25px;
    margin-top:35px;
  }
  .card {
    background: rgba(255,255,255,0.06);
    backdrop-filter: var(--glass);
    padding:22px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    cursor:pointer;
    position: relative;
    overflow: hidden;
  }
  .card:hover {
    transform:translateY(-4px);
    box-shadow: var(--shadow);
    border-color: rgba(124,58,237,0.35);
  }
  .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(120deg, transparent, rgba(255,255,255,0.2), transparent);
    transform: translateX(-100%);
    transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  .card:hover::before {
    transform: translateX(100%);
  }

  /* Footer */
  footer {
    position: relative;
    text-align: center;
    padding: 70px 20px 40px;
    backdrop-filter: var(--glass);
    background: linear-gradient(180deg, rgba(17,24,39,0.35), rgba(17,24,39,0.2));
    border-top: 1px solid var(--border);
  }
  .footer-links {
    display: flex;
    justify-content: center;
    gap: 3rem;
    position: absolute;
    top: 25%;
    left: 50%;
    transform: translate(-50%, -20%);
  }
  .footer-links a {
    font-size:0.95rem; font-weight:600;
    color: var(--muted); position:relative;
    transition: color 0.2s ease;
  }
  .footer-links a::after {
    content:"";
    position:absolute; bottom:-5px; left:0;
    width:100%; height:3px;
    background:linear-gradient(90deg, rgba(124,58,237,0.8), rgba(37,99,235,0.8));
    border-radius:2px;
    transform:scaleX(0);
    transform-origin:right;
    transition:transform 0.3s ease;
  }
  .footer-links a:hover::after {
    transform:scaleX(1);
    transform-origin:left;
  }
  .footer-links a:hover { color: var(--text); }
  .footer-bottom {
    margin-top:130px;
    font-size:0.9rem;
    color:#666;
  }
  .prep-box {
  background: linear-gradient(135deg, #eef2ff, #e0f7fa);
  border-radius: 16px;
  padding: 25px;
  margin-top: 20px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.1);
  transition: 0.3s ease-in-out;
}

.prep-box:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 24px rgba(0,0,0,0.15);
}

.prep-box h2 {
  color: #3b82f6;
  margin-bottom: 12px;
  font-size: 22px;
}

.prep-box p {
  color: #444;
  font-size: 15px;
  margin-bottom: 12px;
  line-height: 1.6;
}

.prep-box ul {
  margin: 10px 0 15px 20px;
  color: #333;
  font-size: 15px;
}

.prep-box li {
  margin-bottom: 6px;
}

.explore-btn {
  background: linear-gradient(90deg, #6366f1, #3b82f6);
  color: #fff;
  border: none;
  padding: 10px 18px;
  font-size: 15px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}

.explore-btn:hover {
  background: linear-gradient(90deg, #3b82f6, #2563eb);
}


  /* Dark Mode */
  body.dark {
    background:linear-gradient(120deg,#0f172a,#1e293b,#0f172a);
    background-size:300% 300%;
    animation:gradientMove 20s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    color:#eee;
  }
  body.dark header, 
  body.dark .sidebar, 
  body.dark .prepare-card,
  body.dark .card,
  body.dark .upcoming-events-card, /* Add dark mode for new card */
  body.dark footer {
    background:rgba(30,41,59,0.7);
    backdrop-filter:blur(12px);
    color:#eee;
    box-shadow:0 6px 20px rgba(0,0,0,0.6);
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  body.dark .start-btn {
    box-shadow: 0 4px 15px rgba(14,165,233,0.3);
  }
  
  body.dark .start-btn:hover {
    box-shadow: 0 8px 25px rgba(14,165,233,0.5);
  }
  
  body.dark .explore-btn {
    box-shadow: 0 4px 15px rgba(99,102,241,0.3);
  }
  
  body.dark .explore-btn:hover {
    box-shadow: 0 8px 25px rgba(99,102,241,0.5);
  }

  /* Dark mode alignment for Upcoming Events card */
  body.dark .upcoming-events-card:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 10px 30px rgba(14,165,233,0.4);
  }
  body.dark .upcoming-events-card h3 {
    background: none;
    -webkit-text-fill-color: initial;
    color: var(--text);
  }
  body.dark .upcoming-events-card p { color: var(--muted); }
  body.dark .upcoming-events-card .view-btn {
    background: linear-gradient(180deg, rgba(124,58,237,0.25), rgba(124,58,237,0.15));
    border: 1px solid rgba(124,58,237,0.35);
    box-shadow: none;
  }
  body.dark .upcoming-events-card .view-btn:hover { box-shadow: 0 0 0 6px rgba(124,58,237,0.12); }

  body.dark .progress-bar { background:linear-gradient(90deg,#0ea5e9,#6366f1,#8b5cf6); }
  body.dark .card:hover { background:linear-gradient(135deg,#0ea5e9,#6366f1,#8b5cf6); }
  body.dark .sidebar li:hover { background:linear-gradient(135deg,#0ea5e9,#6366f1,#8b5cf6); }
  body.dark .footer-links a { color:#eee; } /* Make footer links visible in dark mode */
  body.dark .footer-links a::after { background:linear-gradient(90deg,#0ea5e9,#6366f1,#8b5cf6); }
  body.dark .footer-links a:hover { color:#0ea5e9; text-shadow:0 0 14px rgba(14,165,233,0.8); }
  body.dark .footer-bottom { color:#bbb; } /* Make footer bottom text visible in dark mode */

/* Floating Chat Button Styles */
#chatFloatingBtn {
  position: fixed;
  right: 32px;
  bottom: 70px;
  width: 55px; /* Slightly larger */
  height: 55px; /* Slightly larger */

  border-radius: 50%;
  background: linear-gradient(135deg, #4f46e5, #3b82f6); /* Gradient background */
  color: #fff;
  border: none;
  box-shadow: 0 6px 20px rgba(79,70,229,0.3); /* More prominent shadow */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1001;
  overflow: hidden; /* Keep overflow hidden for inner effects */
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Smoother transition */
}
#chatFloatingBtn::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,0.3), transparent);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
  z-index: 1;
}
#chatFloatingBtn:hover::before {
  transform: translateX(100%);
}
#chatFloatingBtn:hover {
  transform: translateY(-5px) scale(1.1); /* Lift and scale more on hover */
  box-shadow: 0 15px 30px rgba(79,70,229,0.5); /* Deeper shadow on hover */
  background: linear-gradient(135deg, #3b82f6, #06b6d4); /* Change gradient on hover */
}
#chatFloatingBtn span {
  position: relative;
  z-index: 2; /* Ensure text is above the ::before pseudo-element */
  font-weight: 700; /* Bolder text */
  font-size: 1.2rem; /* Slightly larger text */
  letter-spacing: 1.5px; /* Increased letter spacing */
  transition: color 0.3s cubic-bezier(0.4,0,0.2,1);
}
#chatFloatingBtn:hover span {
  color: #fff; /* Ensure text remains white or bright on hover */
}

/* Dark mode adjustments for chat button */
body.dark #chatFloatingBtn {
  background: linear-gradient(135deg, #0ea5e9, #6366f1);
  box-shadow: 0 6px 20px rgba(14,165,233,0.3);
}
body.dark #chatFloatingBtn:hover {
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  box-shadow: 0 15px 30px rgba(14,165,233,0.5);
}

/* Settings Modal Styles */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1002; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  backdrop-filter: blur(5px); /* Blur effect for background */
  align-items: center;
  justify-content: center;
}

.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 0;
  border-radius: 15px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2);
  width: 90%;
  max-width: 720px;
  position: relative;
  animation: fadeIn 0.3s ease-out;
  display: grid;
  grid-template-columns: 220px 1fr;
  min-height: 420px;
  overflow: hidden;
}

body.dark .modal-content {
  background-color: #1e293b;
  color: #eee;
  box-shadow: 0 8px 30px rgba(0,0,0,0.6);
}
body.dark .settings-menu { background:#0f172a; border-right: 1px solid #334155; }
body.dark .menu-item:hover, body.dark .menu-item.active { background: rgba(99,102,241,0.15); }
body.dark .settings-section h3 { background: linear-gradient(90deg,#0ea5e9,#6366f1,#8b5cf6); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

.close-button {
  color: #aaa;
  position: absolute;
  top: 15px;
  right: 20px;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s ease;
}

.close-button:hover,
.close-button:focus {
  color: #333;
  text-decoration: none;
  transform: scale(1.1);
}

body.dark .close-button {
  color: #bbb;
}

body.dark .close-button:hover,
body.dark .close-button:focus {
  color: #eee;
}

/* Settings modal layout */
.settings-menu { background: #f8fafc; padding: 20px; border-right: 1px solid #e5e7eb; }
.settings-menu h2 { font-size: 1.25rem; margin-bottom: 10px; color: #111827; }
.menu-list { list-style: none; }
.menu-item { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px; cursor:pointer; margin:6px 0; transition: background 0.2s ease; }
.menu-item:hover, .menu-item.active { background:#eef2ff; }
.menu-item span.icon { font-size: 1.1rem; }

.settings-content { padding: 24px 28px; }
.settings-section { display: none; }
.settings-section.active { display: block; }
.settings-section h3 { font-size: 1.4rem; margin-bottom: 15px; background: linear-gradient(90deg,#4f46e5,#3b82f6,#9333ea); background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.settings-actions { display: flex; gap: 12px; flex-wrap: wrap; }
.settings-actions .login-btn { padding: 10px 16px; }

.setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
  border-bottom: 1px solid #eee;
}

.setting-item:last-child {
  border-bottom: none;
}

body.dark .setting-item {
  border-bottom: 1px solid #334155;
}

.setting-item span {
  font-size: 1.1rem;
  color: #333;
}

body.dark .setting-item span {
  color: #eee;
}

/* Responsive */
@media(max-width: 1200px) {
  main {
    padding: 30px;
  }
  .main-top-section {
    flex-direction: column;
    align-items: center;
  }
  .prepare-card,
  .upcoming-events-card {
    max-width: 100%; /* Allow cards to take full width */
  }
  .cards {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
}

@media(max-width: 992px) {
  .sidebar {
    width: 180px; /* Slightly narrower sidebar */
  }
  main {
    margin-left: 180px; /* Adjust main content margin */
    padding: 25px;
  }
  header {
    padding: 0 15px;
  }
  .logo {
    font-size: 1.5rem;
  }
  .header-search-wrapper {
    padding: 0 10px;
  }
  .search-component {
    max-width: 300px;
  }
  .login-btn, .settings-btn {
    padding: 10px 20px;
    font-size: 0.9rem;
  }
  .profile-btn {
    width: 40px;
    height: 40px;
    font-size: 1.3rem;
  }
  .footer-links {
    gap: 2rem;
  }
}

@media(max-width:768px){
  .sidebar {
    transform:translateX(-100%);
    width: 100%; /* Full width sidebar on mobile */
    height: calc(100% - 70px);
    top: 70px;
    left: 0;
    box-shadow: none;
    border-right: none;
    z-index: 999;
  }
  .sidebar.active {
    transform:translateX(0);
  }
  main {
    margin-left:0;
    padding: 20px;
  }
  .header-search-wrapper {
    display: none; /* Hide search on small screens */
  }
  .header-actions {
    gap: 10px;
  }
  .login-btn, .settings-btn {
    padding: 8px 15px;
    font-size: 0.85rem;
  }
  .profile-btn {
    width: 38px;
    height: 38px;
    font-size: 1.2rem;
  }
  .footer-links {
    flex-wrap: wrap;
    gap: 1rem;
    top: 15%; /* Adjust position for smaller footer */
  }
  .footer-links a {
    font-size: 0.85rem;
  }
  .footer-bottom {
    margin-top: 80px; /* Adjust margin for smaller footer */
    font-size: 0.8rem;
  }
  #chatFloatingBtn {
    right: 20px;
    bottom: 20px;
    width: 50px;
    height: 50px;
  }
  #chatFloatingBtn span {
    font-size: 1rem;
  }
  .modal-content {
    width: 95%;
    padding: 20px;
  }
  .modal-content h2 {
    font-size: 1.8rem;
  }
  .setting-item span {
    font-size: 1rem;
  }
}

@media(max-width: 480px) {
  header {
    height: 60px;
    padding: 0 10px;
  }
  .logo {
    font-size: 1.3rem;
  }
  main {
    margin-top: 60px;
    padding: 15px;
  }
  h2 {
    font-size: 1.5rem;
  }
  .prepare-card, .upcoming-events-card {
    padding: 20px;
  }
  .prepare-card h3, .upcoming-events-card h3 {
    font-size: 1.2rem;
  }
  .prep-box {
    padding: 20px;
  }
  .prep-box h2 {
    font-size: 1.5rem;
  }
  .prep-box p, .prep-box ul li {
    font-size: 0.9rem;
  }
  .explore-btn {
    padding: 8px 15px;
    font-size: 0.9rem;
  }
  .cards {
    gap: 15px;
  }
  .card {
    padding: 18px;
  }
  .card h3 {
    font-size: 1.1rem;
  }
  .card p {
    font-size: 0.9rem;
  }
  footer {
    padding: 70px 10px 30px;
  }
  .footer-links {
    gap: 0.8rem;
    top: 10%;
  }
  .footer-links a {
    font-size: 0.75rem;
  }
  .footer-bottom {
    margin-top: 60px;
    font-size: 0.7rem;
  }
  #chatFloatingBtn {
    right: 15px;
    bottom: 15px;
    width: 45px;
    height: 45px;
  }
  #chatFloatingBtn span {
    font-size: 0.9rem;
  }
}
</style>
</head>
<body>

<header>
  <a href="dashboard.html" class="logo" style="text-decoration: none;">üéì <span>Campus Hire</span></a>
  <div class="header-search-wrapper">
    <div class="search-component">
      <span class="search-icon">üîç</span>
      <input type="text" class="search-input" id="dashboardSearchInput" placeholder="Searching..." autocomplete="off" />
    </div>
  </div>
  <div class="header-actions">
    <button class="login-btn" id="dashboardLoginBtn">
      Login
    </button>
    <button class="settings-btn" id="settingsBtn">‚öôÔ∏è</button>
  </div>
</header>


<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <ul>
    <li>üè† Campus Placement</li>
    <li>üìò Aptitude</li>
    <li>üíª Coding sheets for Placement</li>
    <li>üìÑ Resume Builder & checker</li>
    <li>üé§ Mock Interviews with ai</li>
    <li>üìÖ resources</li>
    <li>üë§ User dashboard </li>
    


  </ul>
</aside>

<!-- Main -->
<main>
  <h2>Welcome, Student üëã</h2>

  <div class="main-top-section">
    <!-- Prepare With Us -->
    <div class="prepare-card">
      <h3>Prepare With Us</h3>
      <p>Your Progress:</p>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      <button class="start-btn" id="startBtn">Start Preparing</button>
    </div>

    <!-- New Upcoming Events Card -->
    <div class="upcoming-events-card">
      <h3>Upcoming Events</h3>
      <p>Stay updated with the latest campus recruitment drives and workshops.</p>
      <button class="view-btn">View Calendar</button>
    </div>
  </div>
  <!-- Placement Preparation Box -->
<div class="prep-box">
  <h2>üöÄ Come & Prepare With Us</h2>
  <p>
    Get ready for <b>Campus Placements</b>, <b>Off-Campus Drives</b>, and <b>University Exams</b> 
    with our handpicked resources. We provide:
  </p>
  <ul>
    <li>üìò Aptitude, Coding & Logical Reasoning</li>
    <li>üíº Mock HR & Technical Interviews</li>
    <li>üìù Resume Building Guidance</li>
    <li>üéØ Previous Year University & Company Papers</li>
  </ul>
  <button class="explore-btn">Start Exploring</button>
</div>
    <h2>Quick Access</h2>
  <div class="cards">
    <div class="card"><h3>üìò Aptitude</h3><p>Quantitative, logical, and verbal practice.</p></div>
    <div class="card"><h3>üíª Coding</h3><p>Solve DSA problems & learn patterns.</p></div>
    <div class="card"><h3>üé§ Interviews</h3><p>Mock HR & Technical with feedback.</p></div>
    <div class="card"><h3>üìÑ Resume</h3><p>Build ATS-friendly professional resumes.</p></div>
  </div>
</main>

<!-- Floating Chat Button -->
<button id="chatFloatingBtn" title="Chat">
  <span style="font-size: 1.1rem; font-weight: 600; color: #fff; letter-spacing: 1px;">chat</span>
</button>

<!-- Settings Modal -->
<div id="settingsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
  <div class="modal-content">
    <span class="close-button" role="button" aria-label="Close settings">&times;</span>
    <nav class="settings-menu" aria-label="Settings sections">
      <h2 id="settingsTitle">Settings</h2>
      <ul class="menu-list">
        <li class="menu-item active" data-section="general"><span class="icon">1Ô∏è‚É£</span><span>General</span></li>
        <li class="menu-item" data-section="display"><span class="icon">2Ô∏è‚É£</span><span>Appearance</span></li>
        <li class="menu-item" data-section="notifications"><span class="icon">3Ô∏è‚É£</span><span>Notifications</span></li>
        <li class="menu-item" data-section="accessibility"><span class="icon">4Ô∏è‚É£</span><span>Accessibility</span></li>
        <li class="menu-item" data-section="profile"><span class="icon">5Ô∏è‚É£</span><span>Profile</span></li>
        <li class="menu-item" data-section="security"><span class="icon">6Ô∏è‚É£</span><span>Security</span></li>
        <li class="menu-item" data-section="integrations"><span class="icon">7Ô∏è‚É£</span><span>Integrations</span></li>
        <li class="menu-item" data-section="resume"><span class="icon">8Ô∏è‚É£</span><span>Resume & Documents</span></li>
        <li class="menu-item" data-section="saved"><span class="icon">9Ô∏è‚É£</span><span>Saved Items</span></li>
        <li class="menu-item" data-section="data"><span class="icon">üîü</span><span>Data & Export</span></li>
        <li class="menu-item" data-section="about"><span class="icon">‚ÑπÔ∏è</span><span>About & Legal</span></li>
        <li class="menu-item" data-section="logout"><span class="icon">üö™</span><span>Logout</span></li>
      </ul>
    </nav>
    <section class="settings-content">
      <div class="settings-section active" id="section-general">
        <h3>General Settings</h3>
        <div class="setting-item" id="changePasswordSettingItem">
          <span>Change Password</span>
          <button class="login-btn" id="changePasswordBtn" style="margin-left: auto;">Change</button>
        </div>
      </div>

      <div class="settings-section" id="section-display">
        <h3>Appearance</h3>
        <div class="setting-item">
          <span>Dark Mode</span>
          <div class="mode-toggle">
            <input type="checkbox" id="darkModeToggle" class="toggle-switch" aria-label="Toggle dark mode">
            <label for="darkModeToggle" class="toggle-label"></label>
          </div>
        </div>
      </div>

      <div class="settings-section" id="section-profile">
        <h3>Profile</h3>
        <div class="setting-item" id="updateProfileSettingItem">
          <span>Update Profile Information</span>
          <button class="login-btn" id="updateProfileBtn" style="margin-left: auto;">Update</button>
        </div>
      </div>

      <div class="settings-section" id="section-security">
        <h3>Security</h3>
        <p>Manage password, 2FA, and active sessions. Sign in required.</p>
      </div>

      <div class="settings-section" id="section-integrations">
        <h3>Integrations</h3>
        <p>Connect Google/Microsoft, calendar sync, GitHub, LeetCode. Sign in required.</p>
      </div>

      <div class="settings-section" id="section-resume">
        <h3>Resume & Documents</h3>
        <p>Manage resumes, cover letters, certificates. Sign in required.</p>
      </div>

      <div class="settings-section" id="section-saved">
        <h3>Saved Items</h3>
        <p>Saved jobs, resources, and bookmarks. Sign in required.</p>
      </div>

      <div class="settings-section" id="section-data">
        <h3>Data & Export</h3>
        <p>Export your data or clear cached data. Sign in required to export.</p>
      </div>

      <div class="settings-section" id="section-notifications">
        <h3>Notifications</h3>
        <div class="setting-item">
          <span>Email reminders</span>
          <div>
            <input type="checkbox" id="notifEmail"> <label for="notifEmail">Enable</label>
          </div>
        </div>
        <div class="setting-item">
          <span>Event updates</span>
          <div>
            <input type="checkbox" id="notifEvents"> <label for="notifEvents">Enable</label>
          </div>
        </div>
        <div class="settings-actions">
          <button class="login-btn" id="saveNotifBtn">Save</button>
        </div>
      </div>

      <div class="settings-section" id="section-accessibility">
        <h3>Accessibility</h3>
        <div class="setting-item"><span>Reduce motion</span><div><input type="checkbox" id="a11yReduceMotion"></div></div>
        <div class="setting-item"><span>High contrast</span><div><input type="checkbox" id="a11yHighContrast"></div></div>
      </div>

      <div class="settings-section" id="section-about">
        <h3>About & Legal</h3>
        <p>Version 1.0.0 ‚Ä¢ ¬© 2025 Campus Hire ‚Ä¢ Terms ‚Ä¢ Privacy</p>
      </div>

      <div class="settings-section" id="section-logout">
        <h3>Logout</h3>
        <div class="setting-item" id="logoutSettingItem" style="display: none;">
          <span>Logout</span>
          <button class="login-btn" id="modalLogoutBtn" style="margin-left: auto;">Logout</button>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Footer -->
<footer>
  <div class="footer-links" style="margin-bottom: 18px;">
    <a href="#">About</a>
    <a href="#">Resources</a>
    <a href="#">Support</a>
    <a href="#">Legal</a>
  </div>
  <div class="footer-bottom">
    ¬© 2025 Campus Hire. All rights reserved.
  </div>
</footer>


<script>
  document.addEventListener('DOMContentLoaded', () => {
    const dashboardLoginBtn = document.getElementById('dashboardLoginBtn');
    const settingsBtn = document.getElementById('settingsBtn');
    const settingsModal = document.getElementById('settingsModal');
    const closeModal = document.querySelector('.close-button');
    const darkModeToggle = document.getElementById('darkModeToggle');
    const body = document.body;
    const logoutSettingItem = document.getElementById('logoutSettingItem');
    const modalLogoutBtn = document.getElementById('modalLogoutBtn');

    // Function to toggle dark mode
    const toggleDarkMode = () => {
      body.classList.toggle('dark');
      const isDarkMode = body.classList.contains('dark');
      sessionStorage.setItem('darkMode', isDarkMode);
      darkModeToggle.checked = isDarkMode;
    };

    // Initialize dark mode based on session storage, defaulting to light mode
    const initializeDarkMode = () => {
      const isDarkMode = sessionStorage.getItem('darkMode') === 'true';
      if (isDarkMode) {
        body.classList.add('dark');
        darkModeToggle.checked = true;
      } else {
        body.classList.remove('dark');
        darkModeToggle.checked = false;
      }
    };

    initializeDarkMode();

    // Determine login state from session storage (fallback to false)
    const isLoggedIn = sessionStorage.getItem('loggedIn') === 'true';
    console.log('Is Logged In:', isLoggedIn); // Debugging line

    const logoutMenuItem = document.querySelector('.menu-item[data-section="logout"]');
    const logoutSectionEl = document.getElementById('section-logout');

    if (isLoggedIn) {
      // Hide Login button when logged in; all account actions live in Settings modal
      if (dashboardLoginBtn) dashboardLoginBtn.style.display = 'none';
      logoutSettingItem.style.display = 'flex';
      document.getElementById('changePasswordSettingItem').style.display = 'flex';
      document.getElementById('updateProfileSettingItem').style.display = 'flex';
      if (logoutMenuItem) logoutMenuItem.style.display = '';
      if (logoutSectionEl) logoutSectionEl.style.display = '';
    } else {
      if (dashboardLoginBtn) {
        dashboardLoginBtn.addEventListener('click', (event) => {
          event.preventDefault();
          window.location.href = 'login.html';
        });
      }
      logoutSettingItem.style.display = 'none';
      document.getElementById('changePasswordSettingItem').style.display = 'none';
      document.getElementById('updateProfileSettingItem').style.display = 'none';
      if (logoutMenuItem) logoutMenuItem.style.display = 'none';
      if (logoutSectionEl) logoutSectionEl.style.display = 'none';
    }

    console.log('Change Password Button Element:', document.getElementById('changePasswordBtn')); // Debugging line

    const changePasswordBtn = document.getElementById('changePasswordBtn');
    const updateProfileBtn = document.getElementById('updateProfileBtn');

    if (changePasswordBtn) {
      changePasswordBtn.addEventListener('click', () => {
        settingsModal.style.display = 'none'; // Close modal
        window.location.href = 'change-password.html';
      });
    }

    if (updateProfileBtn) {
      updateProfileBtn.addEventListener('click', () => {
        // If not logged in, prompt to sign in first
        if (sessionStorage.getItem('loggedIn') !== 'true') {
          const goLogin = confirm('You need to sign in to update your profile. Do you want to sign in?');
          settingsModal.style.display = 'none';
          if (goLogin) {
            window.location.href = 'login.html';
          } else {
            window.location.href = 'dashboard.html';
          }
          return;
        }
        settingsModal.style.display = 'none'; // Close modal
        window.location.href = 'profile.html';
      });
    }

    if (modalLogoutBtn) {
      modalLogoutBtn.addEventListener('click', () => {
        sessionStorage.removeItem('loggedIn'); // Remove from session storage
        window.location.href = 'dashboard.html'; // Redirect to dashboard after logout
      });
    }

    if (settingsBtn) {
      settingsBtn.addEventListener('click', () => {
        settingsModal.style.display = 'flex';
        // If logout was active but is hidden (logged out), switch to General
        const hiddenLogoutActive = document.querySelector('.menu-item[data-section="logout"].active');
        if (hiddenLogoutActive && hiddenLogoutActive.getBoundingClientRect().width === 0) {
          const generalItem = document.querySelector('.menu-item[data-section="general"]');
          const generalSection = document.getElementById('section-general');
          if (generalItem && generalSection) {
            document.querySelectorAll('.menu-item').forEach(mi => mi.classList.remove('active'));
            document.querySelectorAll('.settings-section').forEach(sec => sec.classList.remove('active'));
            generalItem.classList.add('active');
            generalSection.classList.add('active');
          }
        }
        const firstActive = document.querySelector('.menu-item.active');
        if (firstActive && firstActive.focus) firstActive.focus();
      });
    }

    if (closeModal) {
      closeModal.addEventListener('click', () => {
        settingsModal.style.display = 'none';
      });
    }

    window.addEventListener('click', (event) => {
      if (event.target === settingsModal) {
        settingsModal.style.display = 'none';
      }
    });

    if (darkModeToggle) {
      darkModeToggle.addEventListener('change', toggleDarkMode);
    }

    // Settings menu switching
    const menuItems = Array.from(document.querySelectorAll('.menu-item'));
    const sections = {
      general: document.getElementById('section-general'),
      display: document.getElementById('section-display'),
      notifications: document.getElementById('section-notifications'),
      accessibility: document.getElementById('section-accessibility'),
      profile: document.getElementById('section-profile'),
      security: document.getElementById('section-security'),
      integrations: document.getElementById('section-integrations'),
      resume: document.getElementById('section-resume'),
      saved: document.getElementById('section-saved'),
      data: document.getElementById('section-data'),
      about: document.getElementById('section-about'),
      logout: document.getElementById('section-logout')
    };
    const setActiveSection = (key) => {
      menuItems.forEach(mi => mi.classList.toggle('active', mi.getAttribute('data-section') === key));
      Object.entries(sections).forEach(([k, el]) => el && el.classList.toggle('active', k === key));
    };
    // Ensure a valid default active section if logout is hidden while logged out
    if (!isLoggedIn) {
      const logoutMenuHidden = logoutMenuItem && logoutMenuItem.style.display === 'none';
      const logoutIsActive = logoutMenuItem && logoutMenuItem.classList.contains('active');
      if (logoutMenuHidden && logoutIsActive) {
        setActiveSection('general');
      }
    }
    menuItems.forEach((mi) => {
      mi.setAttribute('tabindex', '0');
      mi.addEventListener('click', () => {
        const key = mi.getAttribute('data-section');
        const requiresLogin = ['profile','security','integrations','resume','saved','data'].includes(key);
        if (requiresLogin && sessionStorage.getItem('loggedIn') !== 'true') {
          const goLogin = confirm('You need to sign in to access Profile. Do you want to sign in?');
          if (goLogin) {
            settingsModal.style.display = 'none';
            window.location.href = 'login.html';
          } else {
            settingsModal.style.display = 'none';
            window.location.href = 'dashboard.html';
          }
          return;
        }
        setActiveSection(key);
      });
      mi.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          const key = mi.getAttribute('data-section');
          const requiresLogin = ['profile','security','integrations','resume','saved','data'].includes(key);
          if (requiresLogin && sessionStorage.getItem('loggedIn') !== 'true') {
            const goLogin = confirm('You need to sign in to access Profile. Do you want to sign in?');
            if (goLogin) {
              settingsModal.style.display = 'none';
              window.location.href = 'login.html';
            } else {
              settingsModal.style.display = 'none';
              window.location.href = 'dashboard.html';
            }
            return;
          }
          setActiveSection(key);
        }
      });
    });

    // Progress bar animation
    const progressBar = document.getElementById('progressBar');
    const setProgress = (percent) => {
      if (!progressBar) return;
      const clamped = Math.max(0, Math.min(100, percent));
      progressBar.style.width = clamped + '%';
    };
    // Initialize to a saved progress or a default demo value
    const savedProgress = Number(sessionStorage.getItem('prepProgress'));
    setProgress(Number.isFinite(savedProgress) ? savedProgress : 68);

    const startBtn = document.getElementById('startBtn');
    if (startBtn) {
      startBtn.addEventListener('click', () => {
        // Simple demo increment and navigate to prep
        const current = Number(sessionStorage.getItem('prepProgress')) || 68;
        const next = Math.min(100, current + 8);
        sessionStorage.setItem('prepProgress', String(next));
        setProgress(next);
        window.location.href = 'pseudocode.html';
      });
    }

    // Search filter for quick access cards
    const searchInput = document.getElementById('dashboardSearchInput');
    const cards = Array.from(document.querySelectorAll('.cards .card'));
    if (searchInput && cards.length) {
      const normalize = (s) => s.toLowerCase().trim();
      searchInput.addEventListener('input', (e) => {
        const query = normalize(e.target.value || '');
        cards.forEach((card) => {
          const text = normalize(card.textContent || '');
          card.style.display = !query || text.includes(query) ? '' : 'none';
        });
      });
    }

    // Notifications: limited without login
    const notifEmail = document.getElementById('notifEmail');
    const notifEvents = document.getElementById('notifEvents');
    const saveNotifBtn = document.getElementById('saveNotifBtn');
    if (notifEmail && notifEvents) {
      // load
      notifEmail.checked = sessionStorage.getItem('notifEmail') === 'true';
      notifEvents.checked = sessionStorage.getItem('notifEvents') === 'true';
    }
    if (saveNotifBtn) {
      saveNotifBtn.addEventListener('click', () => {
        const logged = sessionStorage.getItem('loggedIn') === 'true';
        if (!logged) {
          alert('Sign in to save notification preferences. Your choice applies for this session only.');
        }
        sessionStorage.setItem('notifEmail', String(!!notifEmail?.checked));
        sessionStorage.setItem('notifEvents', String(!!notifEvents?.checked));
      });
    }

    // Quick Access navigation
    if (cards.length) {
      // 0: Aptitude -> pseudocode.html
      // 1: Coding -> pseudocode.html
      // 2: Interviews -> pseucode2.html
      // 3: Resume -> profile.html
      cards.forEach((card, index) => {
        card.addEventListener('click', () => {
          switch (index) {
            case 0:
            case 1:
              window.location.href = 'pseudocode.html';
              break;
            case 2:
              window.location.href = 'pseucode2.html';
              break;
            case 3:
              window.location.href = 'profile.html';
              break;
            default:
              break;
          }
        });
      });
    }

    // Upcoming events button
    const upcomingBtn = document.querySelector('.upcoming-events-card .view-btn');
    if (upcomingBtn) {
      upcomingBtn.addEventListener('click', () => {
        // Navigate to a sample resources/company page for now
        window.location.href = 'TCS.html';
      });
    }

    // Sidebar navigation
    const sidebarItems = Array.from(document.querySelectorAll('aside.sidebar li'));
    if (sidebarItems.length) {
      sidebarItems.forEach((item) => {
        const label = (item.textContent || '').toLowerCase();
        item.addEventListener('click', () => {
          if (label.includes('campus placement')) {
            window.location.href = 'dashboard.html';
          } else if (label.includes('aptitude')) {
            window.location.href = 'pseudocode.html';
          } else if (label.includes('coding')) {
            window.location.href = 'pseudocode.html';
          } else if (label.includes('resume')) {
            window.location.href = 'profile.html';
          } else if (label.includes('mock interviews')) {
            window.location.href = 'pseucode2.html';
          } else if (label.includes('resources')) {
            window.location.href = 'TCS.html';
          } else if (label.includes('user dashboard')) {
            window.location.href = 'profile.html';
          }
        });
      });
    }

    // Floating chat button behavior
    const chatBtn = document.getElementById('chatFloatingBtn');
    if (chatBtn) {
      chatBtn.addEventListener('click', () => {
        alert('Chat assistant coming soon. For help, open Settings > Support.');
      });
    }
  });
</script>
</body>
</html>
